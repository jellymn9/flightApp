(function(){"use strict";var t={4238:function(t,e,n){var i=n(144),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"container",staticStyle:{border:"1px solid black"}},[n("v-row",{staticClass:"main-units"},[n("v-col",[n("workers-item",{attrs:{workers:t.workers},on:{updateFlightsForWorker:t.updateFlightsForWorker}})],1)],1),n("v-divider",{attrs:{vertical:""}}),n("v-row",{staticClass:"main-units",staticStyle:{height:"100%"}},[n("v-col",[n("flights-item",{attrs:{flightItem:t.flightItem},on:{customChange:t.updateFlightIndex}})],1)],1),n("v-row",{staticClass:".main-units"},[n("v-col",[n("flight-information",{attrs:{flightInfo:t.flightItem.items.length?t.flightItem.items[t.activeFlightIndex].info:void 0}})],1)],1)],1)},a=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:".container"},[n("v-row",{staticClass:".main-units"},[n("v-col",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.flightItem.headers,items:t.localItems,"items-per-page":5},on:{"click:row":t.handleClick}})],1)],1)],1)},s=[],l={name:"FlightsItem",props:["flightItem"],data(){return{itemIndex:0}},methods:{handleClick(t){const e=this.localItems.map((t=>JSON.stringify(t)));this.itemIndex=e.indexOf(JSON.stringify(t)),this.$emit("customChange",this.itemIndex)}},computed:{localItems(){return this.flightItem.items.map((t=>t.item))}}},c=l,u=n(1001),f=n(3453),h=n.n(f),d=n(7024),m=n(5234),g=n(4885),v=n(7894),p=(0,u.Z)(c,o,s,!1,null,"42f36b1a",null),I=p.exports;h()(p,{VCol:d.Z,VContainer:m.Z,VDataTable:g.Z,VRow:v.Z});var b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(Object.keys(t.flightInfo),(function(e,i){return n("p",{key:i,staticClass:"flight-info-class"},[t._v(" "+t._s(e)+": "+t._s(t.flightInfo[e])+" ")])})),0)},k=[],w={name:"FlightInformation",props:{flightInfo:{type:Object,default:()=>({})}}},y=w,_=(0,u.Z)(y,b,k,!1,null,"56dff6e2",null),O=_.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"list-wrapper",attrs:{flat:""}},[n("v-subheader",[t._v("Workers")]),t._l(t.workers,(function(e,i){return n("div",{key:i,staticClass:"list-item"},[n("p",{on:{click:function(n){return t.sendWorkerIdBackToParent(e.id)}}},[t._v(" "+t._s(e.name)+" ")])])}))],2)},F=[],x={name:"WorkersItem",props:{workers:{type:Array,required:!0,default:()=>[]}},methods:{sendWorkerIdBackToParent(t){this.$emit("updateFlightsForWorker",t)}}},Z=x,D=n(2026),W=n(6975),j=(0,u.Z)(Z,C,F,!1,null,"139e5660",null),T=j.exports;h()(j,{VCard:D.Z,VSubheader:W.Z});const S=n(9669),V="https://625ea343873d6798e2ab226c.mockapi.io",$=S.get(V+"/workers").then((function(t){return t.data})).catch((function(t){console.log(t)})),E=async function(t){return await S.get(V+`/workers/${t}/flights`).then((function(t){return t.data})).catch((function(t){console.log(t)}))},P={tableData:{from:"Origin",from_date:"Origin date",from_gate:"Origin gate",num:"Flight number",to:"Destination"},flightInfoData:{to_date:"Destination date",to_gate:"Destination gate",plane:"Plane number",duration:"Duration of the flight"}},M=(t,...e)=>e.reduce(((e,n)=>({...e,[n]:t[n]})),{});var A={name:"App",components:{FlightsItem:I,WorkersItem:T,FlightInformation:O},data:()=>({activeWorkerId:"",activeFlightIndex:0,nIntervId:0,workers:[],flightItem:{headers:[],items:[]}}),async created(){await this.getWorkers(),this.activeWorkerId=this.workers[0].id,await this.updateTablesData(),await this.timeout()},methods:{async getFlight(){return await E(this.activeWorkerId)},async getWorkers(){this.workers=await $},async updateTablesData(){const t=(await this.getFlight()).map((t=>{const e={};return Object.keys(t).forEach((n=>{e[P.tableData[n]||P.flightInfoData[n]]=t[n]})),e}));this.flightItem.headers=Object.values(P.tableData).map((t=>({text:t,value:t.toLowerCase().replace(/ /g,""),sortable:!1}))),this.flightItem.items=t.map((t=>{const e={},n=M(t,...Object.values(P.tableData));return e.item={},this.flightItem.headers.forEach((t=>{e.item[t.value]=n[t.text]})),e.info=M(t,...Object.values(P.flightInfoData)),e}))},async timeout(){this.nIntervId||(this.nIntervId=setInterval((()=>this.updateTablesData()),6e4))},async updateFlightsForWorker(t){this.activeWorkerId=t,await this.updateTablesData(),await this.timeout()},updateFlightIndex(t){this.activeFlightIndex=t}}},B=A,J=n(5596),N=(0,u.Z)(B,r,a,!1,null,"3e72968e",null),R=N.exports;h()(N,{VCol:d.Z,VContainer:m.Z,VDivider:J.Z,VRow:v.Z});var q=n(5121);i.Z.use(q.Z);var L=new q.Z({});i.Z.config.productionTip=!1,new i.Z({vuetify:L,render:t=>t(R)}).$mount("#app")}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var a=e[i]={exports:{}};return t[i](a,a.exports,n),a.exports}n.m=t,function(){var t=[];n.O=function(e,i,r,a){if(!i){var o=1/0;for(u=0;u<t.length;u++){i=t[u][0],r=t[u][1],a=t[u][2];for(var s=!0,l=0;l<i.length;l++)(!1&a||o>=a)&&Object.keys(n.O).every((function(t){return n.O[t](i[l])}))?i.splice(l--,1):(s=!1,a<o&&(o=a));if(s){t.splice(u--,1);var c=r();void 0!==c&&(e=c)}}return e}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[i,r,a]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,i){var r,a,o=i[0],s=i[1],l=i[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(l)var u=l(n)}for(e&&e(i);c<o.length;c++)a=o[c],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(u)},i=self["webpackChunkflights_app"]=self["webpackChunkflights_app"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(4238)}));i=n.O(i)})();
//# sourceMappingURL=app.e8775bc7.js.map